> [GITHUB : mindslab-ai/cotatron](https://github.com/mindslab-ai/cotatron) ì˜ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.

âœ… `cotatron_trainer.py í•™ìŠµ`

## ğŸ§¿ TARGET
1. project update
2. metadata (.txt)
3. audio data (.data)
4. config (.yaml)

* **ic_data** (ì„ì‹œë¡œ ë¶€ì—¬í•œ ì´ë¦„) 

	`(ì£¼)ì•„ì´ë””ì–´ì½˜ì„œíŠ¸ ì†Œìœ `, `kor`, `10 speaker (1600 sentences each)`

â–¶ ìœ„ì˜ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¬¸ì„œ ì‘ì„±

## ğŸ“£ Audio data
* **Data resampling**

	`ë³¸ì¸ì˜ ë°ì´í„°ê°€ ìˆëŠ” ìœ„ì¹˜ë¡œ ì˜®ê¸´ í›„ ì‹¤í–‰`
	```
	bash resample_delete.sh
	```
	> ì‹¤í–‰í•˜ë©´ ì›ë˜ì˜ íŒŒì¼ì€ ì‚­ì œë˜ë¯€ë¡œ ì£¼ì˜.

## ğŸ“” Metadata
* **generate metadata**

	`ic data ëŠ” ëŒ€ì‚¬ê°€ xlsx í˜•ì‹ìœ¼ë¡œ ë˜ì–´ìˆì–´, ì‘ì„±ìì˜ ê²½ìš° python ëª¨ë“ˆì„ í•˜ë‚˜ ë§Œë“¤ì–´ metadata ë¥¼ ë§Œë“¤ë„ë¡ í•¨`
	```
	# ëŒ€ë³¸ íŒŒì¼ì´ ìˆëŠ” ìœ„ì¹˜ì—ì„œ
	python xlsx_to_txt.py
	```
	> 10 : 1 ì˜ ë¹„ìœ¨ë¡œ train : val  ë°ì´í„°ì…‹ì„ ë‚˜ëˆ”.
	
	> ì–´ë–¤ ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ ì–´ë–»ê²Œ ì „ì²˜ë¦¬ë¥¼ í•˜ë“  metadata í˜•ì‹ë§Œ ì˜ ë§ì¶°ì£¼ë©´ ë¨.

## ğŸ§¾ Config 
```
í•œêµ­ì–´ ë°ì´í„°ì˜ configëŠ” ê¸°ë³¸ì ìœ¼ë¡œ kss config(ì´ë¯¸ í…ŒìŠ¤íŠ¸í–ˆë˜ ë°ì´í„°ì„)ì„ ì°¸ê³ í•´ì„œ ì‘ì„±í•˜ë©´ ë©ë‹ˆë‹¤.
```

### global config
* **expname** 

	`ììœ `
	> ëª¨ë¸ ëŒì•„ê°€ëŠ” ì¤‘ê°„ì¤‘ê°„ ë””ë²„ê¹… ê²°ê³¼ë¥¼ ì €ì¥í•  ë•Œ ì‚¬ìš©í•  íŒŒì¼ ì´ë¦„. í˜„ì œ cotatron ì½”ë“œì—ì„œëŠ” ì£¼ì„ì²˜ë¦¬ ë˜ì–´ ìˆìŒ.

|
* **dataname** 
	
	`ic`
	>  text_mel_dataset.py ë‹¨ê³„ì—ì„œ ë°ì´í„°ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•´ì•¼ í•  ë¶€ë¶„ì´ ìˆì–´ ì¶”ê°€í•œ config ì†ì„±.

|
* **use_eos** 
	
	`True`
	> ë¬¸ìì—´ì„ sequence ë¡œ ë³€í™˜í•˜ê¸° ì „ ì•ë’¤ì— `<s>` ì™€ `</s>` ë¥¼ ì¶”ê°€í• ì§€ì— ëŒ€í•œ Flag. 
	
|
* **lang** 

	`kor`

|
* **text_cleaners** :

	`['korean_cleaners']`

|
* **speakers** :

	`List of speakers ID`

	**ex)**
	```
	['04']
	```
	> í˜„ì œ í•œëª…ë¶„ì˜ ë°ì´í„°ë§Œ ë¯¸ë¦¬ ë°›ì€ ìƒíƒœ
	
	> â— ic data ì—ì„œëŠ” ì—¬ëŸ¬ ì—­í• ì˜ ëŒ€ì‚¬ë¥¼ í•œëª…ì˜ ì„±ìš°ê°€ ì½ìŒ. metadata ë“±ì„ ì²˜ë¦¬í•  ë•Œ ê·¹ì¤‘ì˜ ì—­í• ê³¼ ì‹¤ì œ ì„±ìš° id ë¥¼ í–‡ê¹”ë¦¬ì§€ ë§ê²ƒ.

|
* **train_dir, val_dir** :

	`ë°ì´í„° í´ë” ê²½ë¡œ`
	
        **ex)**
	```
	../data/ic_data/04/
	```

|
* **train_meta, val_meta** :

	`metadata íŒŒì¼ ìœ„ì¹˜`
	
	**ex)**
	```
	train_meta: '../data/ic_data/ic_train.txt'
	val_meta: '../data/ic_data/ic_val.txt'

-----
### cota config

kss config ë³µì‚¬
* ê°™ì€ ì–¸ì–´ë¼ë¦¬ëŠ” í•œë²ˆ ì°¾ì€ í•˜ì´í¼ íŒŒë¼ë¯¸í„° ì„¤ì • ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ë„ í¬ê²Œ ë¬¸ì œ ì—†ìŒ. 

* global config ì— ì¶”ê°€ëœ dropout , silence ë„ ë§ˆì°¬ê°€ì§€ë¡œ kss ì„¤ì •ì„ ì‚¬ìš©í•´ ì£¼ì„¸ìš”.

`cota config ì†ì„± í•˜ë‚˜í•˜ë‚˜ì— ëŒ€í•œ ì„¤ëª…ì€ ë”°ë¡œ ë¬¸ì„œë¥¼ ì‘ì„±í•  ì˜ˆì •`

## ğŸ“Ÿ RUN
```
python cotatron_trainer.py -c {global config path} {cota config path} -g {gpu to use} -n {run_name}
```
**ex)**
```
python cotatron_trainer.py -c config/global/ic.yaml config/cota/ic.yaml -g 0,2 -n ic_test
```
